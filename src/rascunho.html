<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Proposta Comercial - Weinsite</title>
    <link href="./output.css" rel="stylesheet" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
      /* Estilos para o print (opcional, mas útil para o PDF) */
     @media print {
  body {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important; /* substitui color-adjust */
  }
  .no-print {
    display: none !important;
  }
}
    </style>
  </head>

  <body
    class="bg-[url('./img/bgbody.jpg')] bg-cover bg-center bg-gradient-to-br from-purple-800 via-indigo-800 to-blue-800 text-white font-sans"
  >

   <section class="min-h-screen flex flex-col lg:flex-row justify-center items-center text-center px-4 py-20">

      <div> 
        <img src="./img/brainor.png" alt="Logo Weinsite" class="w-[40rem]" /> </div>
      <div>

<img src="./img/logo-nav.png" alt="Logo Weinsite" class="w-72 mb-8 m-auto" />
         <h1
        class="text-4xl lg:text-6xl font-extrabold bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 bg-clip-text text-transparent"
      >
        PROPOSTA COMERCIAL
      </h1>
      <p class="mt-6 text-xl lg:max-w-2xl">
        Esta é a sua proposta
        <span id="nomeCliente" class="font-extrabold">Cliente</span> da Empresa
        <span class="font-extrabold">Weinsite</span>
      </p>
      <p>Estamos ansiosos pra iniciar essa trajetória juntos</p>

      </div>

    </section>

 <div class="h-5 w-full bg-gradient-to-r from-purple-400 via-blue-500 to-pink-400 "></div>

    <section
      class="max-w-5xl mx-auto py-16 px-6 grid md:grid-cols-2 gap-10 text-center"
    >
      <div>
        <img src="./img/brain.png" alt="" class="w-30 h-30 items-center m-auto " />
        <h1
          class="text-4xl lg:text-6xl font-extrabold text-gray-100 bg-clip-text"
        >
          Somos a Weinsite
        </h1>
        <p class="mt-5 italic text-xl">
          Nosso objetivo a te ajudar a se destacar no digital !
        </p>
      </div>

      <div class="bg-white/10 backdrop-blur-md p-6 rounded-xl shadow-lg">
        <i data-lucide="target" class="w-8 h-8 mx-auto text-white mb-4"></i>
        <h2 class="text-xl font-bold mb-2">Missão</h2>
        <p class="text-white/80">
          Transformar ideias em soluções digitais que encantam e geram
          resultados reais.
        </p>
      </div>
      <div class="bg-white/10 backdrop-blur-md p-6 rounded-xl shadow-lg">
        <i data-lucide="eye" class="w-8 h-8 mx-auto text-white mb-4"></i>
        <h2 class="text-xl font-bold mb-2">Visão</h2>
        <p class="text-white/80">
          Ser referência em design estratégico e experiências digitais no
          Brasil.
        </p>
      </div>
      <div class="bg-white/10 backdrop-blur-md p-6 rounded-xl shadow-lg">
        <i data-lucide="heart" class="w-8 h-8 mx-auto text-white mb-4"></i>
        <h2 class="text-xl font-bold mb-2">Valores</h2>
        <p class="text-white/80">
          Criatividade, comprometimento, inovação e proximidade com o cliente.
        </p>
      </div>
    </section>

    <section
      class="min-h-screen px-6 py-16 bg-gradient-to-r from-blue-900 to-purple-900 text-white grid place-items-center"
    >
      <div
        class="grid grid-cols-1 md:grid-cols-2 gap-10 items-center max-w-6xl w-full"
      >
        <div class="text-center md:text-left max-w-5xl">
          <h2
            class="lg:text-5xl font-extrabold mb-10 bg-gradient-to-r from-white via-purple-400 to-blue-400 bg-clip-text text-transparent"
          >
            Nossos Diferenciais
          </h2>
          <ul class="space-y-4 text-xl">
            <li class="flex items-start">
              <span class="text-pink-400 font-bold mr-2">•</span>
              Atendimento de excelência desde o primeiro contato
            </li>
            <li class="flex items-start">
              <span class="text-pink-400 font-bold mr-2">•</span>
              Serviços personalizados e exclusivos para cada cliente
            </li>
            <li class="flex items-start">
              <span class="text-pink-400 font-bold mr-2">•</span>
              Dedicação total para ajudar seu negócio a crescer
            </li>
            <li class="flex items-start">
              <span class="text-pink-400 font-bold mr-2">•</span>
              Suporte contínuo e acompanhamento próximo
            </li>
          </ul>

          <h3
            class="lg:text-2xl font-extrabold mb-10 bg-gradient-to-r from-white via-purple-400 to-blue-400 bg-clip-text text-transparent mt-10"
          >
            Estamos preparados pra te atender !
          </h3>
        </div>
      <div class="flex justify-center">
        <img src="./img/us.png" alt="" class="w-72 h-[30rem] " />
        </div>
  
      </div>
    </section>

    <section class="max-w-4xl mx-auto py-16 px-6 text-center">
      <img
        src="./img/brain.png"
        alt="logotipo cérebro"
        class="w-40 h-40 items-center m-auto mb-10"
      />
      <h1
        class="text-4xl lg:text-5xl font-extrabold bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 bg-clip-text text-transparent mt-5 drop-shadow-lg"
      >
        SEU ORÇAMENTO EXCLUSIVO
      </h1>

      <div
        class="container mx-auto mt-12 text-start bg-white/5 backdrop-blur-sm rounded-2xl p-8 shadow-2xl border border-white/10"
      >
        <div
          class="bg-white/10 border border-white/20 rounded-xl p-6 mb-8 shadow-lg transition duration-300 hover:scale-[1.01]"
        >
          <h3 class="text-xl font-bold mb-4 text-white flex items-center">
            <i
              data-lucide="check-square"
              class="w-6 h-6 text-pink-400 mr-5"
            ></i>
            Detalhes da sua Solicitação:
          </h3>
          <div class="space-y-3 text-lg">
            <p class="border-b border-white/10 pb-2">
              <strong class="font-semibold text-white"
                >Categoria Selecionada:</strong
              >
              <span
                id="categoriaSelecionada"
                class="font-light text-gray-200 ml-2"
                >-</span
              >
            </p>
            <p class="border-b border-white/10 pb-2">
              <strong class="font-semibold text-white">Opção Escolhida:</strong>
              <span id="opcaoSelecionada" class="font-light text-gray-200 ml-2"
                >-</span
              >
            </p>
            <p>
              <strong class="font-semibold text-white"
                >Informações Adicionais:</strong
              >
              <span
                id="infoAdicionalIdentidade"
                class="font-light text-gray-200 ml-2"
              ></span>
              <br />
              <span
                id="infoAdicionalCopywrite"
                class="font-light text-gray-200 ml-2"
              ></span>
            </p>
          </div>
        </div>

        <div
          class="mb-8 p-6 bg-white/10 border border-white/20 rounded-xl shadow-lg transition duration-300 hover:scale-[1.01]"
        >
          <div class="flex items-center text-center mb-5">
            <div
              class="w-10 h-10 bg-pink-400/20 rounded-full flex items-center justify-center mr-4 shadow-md"
            >
              <i data-lucide="zap" class="w-5 h-5 text-white"></i>
            </div>
            <h3 class="text-2xl font-bold items-center text-white m-0">
              Sua Solução Digital Ideal:
            </h3>
          </div>
          <p
            class="hidden text-center text-2xl font-extrabold text-white mt-10"
          >
            <span id="descricaoServiçoIdeal"></span>
          </p>

          <h3
            class="text-3xl font-extrabold text-white mb-10 mt-10 flex items-center justify-center"
          >
            
            <span id="nomeProduto">-</span>
          </h3>
          <p
            id="descricaoProdutoDetalhe"
            class="text-gray-100 mb-6 bg-white/10 rounded-xl p-6 text-lg leading-relaxed shadow-inner"
          >
            -
          </p>
          <!-- <img
            id="imagemProdutoDetalhe"
            src="./img/site-mockup.png"
            alt="Mockup do Produto/Serviço"
            class="mx-auto w-full md:w-4/5 lg:w-3/4 rounded-lg shadow-xl border border-white/10 mt-6"
          /> -->
        </div>
      </div>
    </section>
    <section
      class="bg-gradient-to-br from-purple-900 via-blue-900 to-purple-900 py-16 px-6 text-white"
    >
      <div class="max-w-7xl mx-auto text-center mb-12">
        <h2 class="text-4xl font-bold mb-4">
          Escolha o pacote ideal para o seu negócio
        </h2>
        <p class="text-lg text-gray-200">
          Investimentos acessíveis e pensados para cada fase do seu projeto.
        </p>
<div id="pacotesPropostos" class="grid justify-center gap-6 max-w-screen-lg mx-auto"></div>
<button id="btnBaixarPdf" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition">
  Baixar Orçamento (PDF)
</button>
    </section>

    <footer
      class="px-6 py-12 bg-gradient-to-r from-purple-800 to-indigo-800 text-white text-center"
    >
      <p class="text-lg mb-2">Weinsite – Produtos Digitais</p>
      <p class="text-sm">Transformando ideias em resultados digitais</p>
    </footer>

    <script>
      lucide.createIcons();

      // Mapeamento dos valores numéricos dos objetivos do site para texto legível
      const objetivoSiteMap = {
        1: 'Quero apresentar minha empresa ou marca',
        2: 'Vender um Produto ou Serviço',
        3: 'Divulgar um Produto Específico',
        4: 'Lançar um Produto ou Serviço',
        5: 'Expor meu trabalho ou projetos',
        6: 'Criar um Blog de Conteúdos',
      };
      const socialNecessidadeMap = {
        1: 'Preciso de Posts personalizados para o meu feed',
        2: 'Quero criar capas para meus stories e reels',
        3: 'Preciso de ajuda para organizar minha bio do Instagram',
        4: 'Quero um planejamento mensal de conteúdo, com posts e legendas inclusas',
        5: 'Todas as opções acima',
      };

      // Função para gerar pacotes conforme regras
      function gerarPacotes(orcamento) {
        const pacotes = [];
        const categoria = orcamento.servico?.categoria || '';
        const objetivo = orcamento.servico?.objetivoSite || ''; // Valor numérico
        const objetivoPapelaria = orcamento.servico?.socialNecessidade || ''; // Valor numérico
        const iniciandoDigital = orcamento.servico?.inicioDigital === 'sim'; // "sim" ou "nao"
        const temIDVisual = orcamento.servico?.socialIdentidade === 'yes'; // "yes" ou "no"

        // Debugging: verificar valores recebidos
        console.log('Categoria:', categoria);
        console.log('Objetivo Site:', objetivo);
        console.log('Objetivo Produto:', objetivoPapelaria);
        console.log('Iniciando Digital:', iniciandoDigital);
        console.log('Tem ID Visual:', temIDVisual);

        switch (categoria) {
          case 'site': // Alterado de 'Site ou Landing Page' para 'site'
            if (objetivo === '1') {
              // 'Quero apresentar minha empresa ou marca'
              // Weinbasic
              pacotes.push({
                titulo: 'Pacote Weinbasic',
                descricao: 'Esteja 24 horas por dia vendendo na Internet',
                itens: [
                  'Site Institucional de até 5 páginas',
                  'Design e Copywrite inclusos',
                  'Responsivo para desktop e mobile',
                  'Botão de WhatsApp',
                  'SEO básico Google',
                  'Auxílio na criação de domínio e hospedagem',
                ],
                valor: '1.390,00',
                destaque: false,
              });

              // Weinstart para site institucional/portfólio
              let valorWeinstart = 1990;
              const itensWeinstart = [
                'Site Institucional de até 5 páginas',
                'Página Link Bio Instagram',
                'Design e Copywrite inclusos',
                'Responsivo para desktop e mobile',
                'Botão de WhatsApp',
                'SEO básico Google',
                'Auxílio na criação de domínio e hospedagem',
                'BRINDE: 5 CAPAS DE STORY + ANÁLISE DE PERFIL E AJUSTE DE BIO DO INSTAGRAM',
              ];

              // Adiciona Identidade Visual Basic apenas se não tiver e for iniciante
              if (!temIDVisual) {
                itensWeinstart.unshift('Identidade Visual Basic');
              } else {
                // Se já tem ID visual, não inclui o item e o preço não muda baseado nisso aqui
                // O desconto para quem já tem ID Visual não se aplica a este pacote em si,
                // mas a soma total do serviço pode ser menor se a ID Visual já foi feita.
                // Ajuste o cálculo se o desconto for direto no pacote.
              }

              pacotes.push({
                titulo: 'Pacote Weinstart',
                descricao:
                  'O serviço COMPLETO pra ti que está iniciando no digital', // Descrição resumida para o card
                itens: itensWeinstart,
                valor: valorWeinstart.toFixed(2).replace('.', ','),
                destaque: true,
              });
            } else if (objetivo === '5' || objetivo === '6') {
              // 'Quero apresentar minha empresa ou marca' ou 'Expor meu trabalho ou projetos'
              // Weinbasic
              pacotes.push({
                titulo: 'Pacote Weinbasic',
                descricao:
                  'Exponha para seus clientes seus produtos e serviços e aumente seu faturamento',
                itens: [
                  'Site Portfólio 5 páginas',
                  'Design e Copywrite inclusos',
                  'Responsividade',
                  'Botão de WhatsApp',
                  'Auxílio na criação de domínio e hospedagem',
                  'SEO básico Google',
                ],
                valor: '1.590,00',
                destaque: false,
              });

              // Weinstart para site institucional/portfólio
              let valorWeinstart = 2190;
              const itensWeinstart = [
                'Site Portfólio 5 páginas',
                'Página Link Bio Instagram',
                'Design e Copywrite inclusos',
                'Responsividade',
                'Botão de WhatsApp',
                'Auxílio na criação de domínio e hospedagem',
                'SEO básico Google',
                'BRINDE: 5 CAPAS DE STORY + ANÁLISE DE PERFIL E AJUSTE DE BIO DO INSTAGRAM',
              ];

              // Adiciona Identidade Visual Basic apenas se não tiver e for iniciante
              if (!temIDVisual) {
                itensWeinstart.unshift('Identidade Visual Basic');
              } else {
                // Se já tem ID visual, não inclui o item e o preço não muda baseado nisso aqui
                // O desconto para quem já tem ID Visual não se aplica a este pacote em si,
                // mas a soma total do serviço pode ser menor se a ID Visual já foi feita.
                // Ajuste o cálculo se o desconto for direto no pacote.
              }

              pacotes.push({
                titulo: 'Pacote Weinstart',
                descricao:
                  'Invista nas redes sociais e leve mais clientes ao seu site', // Descrição resumida para o card
                itens: itensWeinstart,
                valor: valorWeinstart.toFixed(2).replace('.', ','),
                destaque: true,
              });
            } else if (
              objetivo === '2' ||
              objetivo === '3' ||
              objetivo === '4'
            ) {
              // 'Vender um Produto ou Serviço', 'Divulgar um Produto Específico', 'Lançar um Produto ou Serviço'
              // Landing Page
              pacotes.push({
                titulo: 'Pacote Weinbasic',
                descricao:
                  'O Pacote basic é tudo o que você precisa pra iniciar no digital',
                itens: [
                  'Landing Page Página de Vendas até 4 páginas',
                  'Design e Copywrite inclusos',
                  'Responsividade',
                  'Botão de WhatsApp',
                  'Auxílio na criação de domínio e hospedagem',
                  'SEO básico Google',
                ],
                valor: '990,00', // Valor fixo, ajuste se precisar de casas decimais
                destaque: false,
              });

              let valorWeinstartLP = 1539.9;
              const itensWeinstartLP = [
                'Landing Page Página de Vendas até 4 páginas',
                'Página Link Bio Instagram',
                'Design e Copywrite inclusos',
                'Responsividade',
                'Botão de WhatsApp',
                'Auxílio na criação de domínio e hospedagem',
                'SEO básico Google',
                'BRINDE: 5 CAPAS DE STORY + ANÁLISE DE PERFIL E AJUSTE DE BIO DO INSTAGRAM',
              ];

              if (!temIDVisual) {
                itensWeinstartLP.unshift('Identidade Visual Basic'); // Adiciona se não tiver
              }

              pacotes.push({
                titulo: 'Pacote Weinstart',
                descricao:
                  'O serviço COMPLETO pra ti que está iniciando no digital',
                itens: itensWeinstartLP,
                valor: valorWeinstartLP.toFixed(2).replace('.', ','),
                destaque: true,
              });
            }
            break;

          case 'logo': // Alterado de 'Identidade Visual' para 'logo'
            pacotes.push({
              titulo: 'Identidade Visual Basic',
              descricao: 'Um pacote completo que irá te destacar no digital ',
              itens: [
                'Logotipo básico (tipográfico ou símbolo simples)',
                'Paleta de Cores para uso digital e impressão',
                'Tipografia (fonte principal e secundária)',
                "Marcas D'água logotipo e tipografia",
                '2 Padrões de Design (fundos e texturas)',
                'Mini guia de uso de Identidade Visual',
                'Entrega de todos produtos em formatos editáveis',
                'BRINDE: 3 MOCKUPS com ID visual + 1 post Instagram',
              ],
              valor: '590,00',
              destaque: true,
            });
            break;

          case 'social': // Alterado de 'Produtos Digitais' para 'social'
            if  (objetivoPapelaria === '1' || objetivoPapelaria === '5') {
              pacotes.push({
                titulo: 'WeinBasic',
                descricao:
                  'Pra ti que precisa de uma ajudinha',
                itens: [
                  '5 artes personalizados',
                  '1 post carrosel com 3 artes',
                  'Artes exclusivas',
                  'Copywrite',
                ],
                valor: '180,00',
                destaque: false,
              });
              pacotes.push({
                titulo: 'WeinBenefit',
                descricao:
                  'Planejamento mensal, artes exclusivas',
                itens: [
                  '20 artes digitais',
                  'Artes exclusivas',
                  'Copywrite',
                  'Postamos pra você !!',
                ],
                valor: '650,00',
                destaque: true,
              });

                pacotes.push({
                titulo: 'WeinTop',
                descricao:
                  'Planejamento mensal, artes exclusivas, criação de identidade visual básica para redes sociais.',
                itens: [
                  'Planejamento mensal de conteúdo',
                  '20 artes digitais',
                  'Artes exclusivas',
                  'Copywrite',
                  'Postamos pra você !!',
                  'Brinde: 1 carrossel de 4 artes'
                  
                ],
                valor: '750,00',
                destaque: false,
              });

            
            
            } else if (objetivoPapelaria === '2'){
              pacotes.push({
                titulo: 'WeinBasic',
                descricao: 'Artes Avulsas para Stories e Reels',
                itens: ['5 artes digitais personalizadas', 'Copywrite'],
                valor: '150,00',
                destaque: false,
              });
              pacotes.push({
                titulo: 'Pacote WeinBenefit',
                descricao:'PACOTE BENEFÍCIO',
                itens: [
                  '10 artes personalizadas exclusivas',
                  'Copywrite',
                  
                  
                ],
                valor: '220,00',
                destaque: true,
              });
               pacotes.push({
                titulo: 'Pacote WeinTop',
                descricao:'PACOTE BENEFÍCIO',
                itens: [
                  '20 artes personalizadas exclusivas',
                  'Copywrite',
                  
                ],
                valor: '425,00',
                destaque:false,
              });

               if (!temIDVisual) {
                itensWeinstart.unshift('Identidade Visual Basic');
              } else {
                // Se já tem ID visual, não inclui o item e o preço não muda baseado nisso aqui
                // O desconto para quem já tem ID Visual não se aplica a este pacote em si,
                // mas a soma total do serviço pode ser menor se a ID Visual já foi feita.
                // Ajuste o cálculo se o desconto for direto no pacote.
              }
            }
            break;

          case 'stationery': // Alterado de 'Papelaria Digital' para 'stationery'
            // Assumo que 'papelaria' é uma string de escolha, como 'cards', 'flyers', etc.
            const tipoPapelaria = orcamento.servico?.papelaria;

            if (tipoPapelaria === 'cards') {
              pacotes.push({
                titulo: 'Cartão de Visita',
                descricao: 'Cartão digital com design personalizado',
                itens: ['Design personalizado', 'Entrega em formato digital'],
                valor: '60,00',
                destaque: true, // Ou false, dependendo da sua preferência
              });
            } else if (tipoPapelaria === 'flyers') {
              pacotes.push({
                titulo: 'Flyer',
                descricao: 'Flyer digital promocional',
                itens: ['Design atrativo', 'Formato digital pronto para envio'],
                valor: '90,00',
                destaque: true,
              });
            } else if (tipoPapelaria === 'invitations') {
              pacotes.push({
                titulo: 'Convite',
                descricao: 'Convite digital para eventos',
                itens: [
                  'Design personalizado',
                  'Arquivo digital em alta qualidade',
                ],
                valor: '50,00', // Se o range é 50-90, escolha um valor ou adicione lógica
                destaque: true,
              });
              pacotes.push({
                titulo: 'Convite Interativo',
                descricao: 'Convite digital com elementos interativos',
                itens: [
                  'Animações e interatividade',
                  'Formato digital exclusivo',
                ],
                valor: '80,00',
                destaque: false,
              });
            } else if (tipoPapelaria === 'others') {
              // Se houver "outros produtos", talvez um pacote mais genérico ou solicitação de contato
              pacotes.push({
                titulo: 'Papelaria Personalizada',
                descricao:
                  'Produtos de papelaria digital customizados, sob consulta.',
                itens: ['Design sob medida', 'Entrega em formato digital'],
                valor: 'Sob Consulta',
                destaque: true,
              });
            } else if (tipoPapelaria === 'wedding_kit') {
              // Assumindo uma nova opção para kit casamento
              pacotes.push({
                titulo: 'Kit Casamento',
                descricao: 'Kit completo de papelaria para casamento',
                itens: [
                  'Convite digital',
                  'Save the date',
                  'Listas de presentes',
                  'Arte para mesa de convidados',
                  'Itens adicionais personalizados',
                ],
                valor: '150,00',
                destaque: true,
              });
            }
            break;

          default:
            pacotes.push({
              titulo: 'Pacote Personalizado',
              descricao: 'Entre em contato para uma proposta customizada',
              itens: [],
              valor: '-',
              destaque: false,
            });
            break;
        }

        return pacotes;
      }

      // Função para criar o HTML dos pacotes e inserir na página
      function mostrarPacotes(pacotes) {
        const container = document.getElementById('pacotesPropostos');

        // Define o layout do grid dinamicamente com base na categoria
        const orcamento = JSON.parse(localStorage.getItem('orcamento'));
        const categoria = orcamento?.servico?.categoria;
        if (pacotes.length <= 2) {
          container.className =
            'grid grid-cols-1 md:grid-cols-2 justify-center gap-6 max-w-screen-lg mx-auto mt-10';
        } else if (categoria === 'social' || categoria === 'stationery') {
          container.className =
            'grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 max-w-screen-lg mx-auto';
        } else {
          container.className =
            'grid grid-cols-1 md:grid-cols-2 gap-6 max-w-screen-lg mx-auto';
        }
        container.innerHTML = ''; // Limpa os cards anteriores

        pacotes.forEach(({ titulo, descricao, itens, valor, destaque }) => {
          const destaqueClasses = destaque
            ? 'bg-purple-700 text-white border border-purple-400 shadow-xl hover:scale-105 transition-all duration-300'
            : 'bg-white text-gray-900 border border-gray-200 shadow-md hover:scale-105 transition-all duration-300';

          const btnClasses = destaque
            ? 'bg-white text-purple-700 hover:bg-purple-100 font-bold py-2 px-4 rounded-xl'
            : 'bg-purple-700 text-white hover:bg-purple-800 font-bold py-2 px-4 rounded-xl';

          const valorFormatted = valor === '-' ? '-' : `R$ ${valor}`;

          // Para a descrição do card, usamos a descrição resumida fornecida
          // Para os itens da lista, usamos o array 'itens'
          const itensHtml = itens.map((item) => `<li>✅ ${item}</li>`).join('');

          const cardHtml = `
                  <div class="${destaqueClasses} rounded-2xl  p-8 flex flex-col justify-between transition transform duration-300 ">
                    <div>
                      <h3 class="text-4xl font-extrabold mb-4">${titulo}</h3>
                      <p class="mb-6 text-xl  italic">${descricao}</p>
                      <ul class="space-y-2 mb-6 text-xl">${itensHtml}</ul>
                    </div>
                    <div>
                      <p class="text-2xl font-bold ${
                        destaque ? 'text-white' : 'text-purple-800'
                      } mb-4 text-3xl">
                          ${valorFormatted}
                      </p>
                      <a href="https://wa.me/5551999999999?text=Ol%C3%A1%2C%20gostaria%20de%20saber%20mais%20sobre%20o%20pacote%20${encodeURIComponent(
                        titulo,
                      )}."
                      target="_blank"
                      class="${btnClasses} py-2 px-4 rounded-xl transition inline-block">Quero esse</a>
                    </div>
                  </div>
                `;

          container.insertAdjacentHTML('beforeend', cardHtml);
        });
      }

      // Função para preencher a seção "O que está incluso"
      function preencherInclusos(pacotes) {
        const inclusosContainer = document.getElementById('inclusosContainer');
        inclusosContainer.innerHTML = '';

        // Pega itens do pacote com destaque ou do primeiro pacote caso não tenha destaque
        let pacoteParaInclusos = pacotes.find((p) => p.destaque) || pacotes[0];

        // Se não encontrar nenhum pacote ou ele não tiver itens, não faz nada
        if (
          !pacoteParaInclusos ||
          !pacoteParaInclusos.itens ||
          pacoteParaInclusos.itens.length === 0
        ) {
          // Pode adicionar uma mensagem ou esconder a seção
          // inclusosContainer.innerHTML = `<p class="text-white text-center col-span-full">Nenhum item incluso para esta categoria.</p>`;
          return;
        }

        pacoteParaInclusos.itens.forEach((item) => {
          const itemHtml = `
                  <div class="bg-white/10 p-6 rounded-xl">
                    <i data-lucide="check-circle" class="w-6 h-6 text-white mb-2"></i>
                    <h4 class="text-xl font-bold mb-1">${item}</h4>
                    <p class="text-white/80">Incluso no pacote.</p>
                  </div>
                `;
          inclusosContainer.insertAdjacentHTML('beforeend', itemHtml);
        });

        lucide.createIcons();
      }

      // Função para popular os dados dinâmicos da página
      function popularDados() {
        const orcamentoJSON = localStorage.getItem('orcamento');
        if (!orcamentoJSON) {
          // Se não houver orçamento, exibe uma mensagem e pode redirecionar
          document.body.innerHTML = `
                      <section class="min-h-screen flex flex-col justify-center items-center text-center px-4 py-20 bg-[url('./img/bgbody.jpg')] bg-cover bg-center text-white">
                          <img src="./img/logo-nav.png" alt="Logo Weinsite" class="w-64 mb-8" />
                          <p class="text-2xl text-red-400">Nenhum orçamento encontrado. Por favor, preencha o formulário de orçamento primeiro.</p>
                          <a href="orcamento.html" class="mt-8 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300">Ir para o Formulário de Orçamento</a>
                      </section>
                  `;
          return;
        }

        const orcamento = JSON.parse(orcamentoJSON);
        console.log('Dados do Orçamento:', orcamento); // Para depuração

        document.getElementById('nomeCliente').textContent =
          orcamento.contato?.nome || 'Cliente';

        // Mapeia a categoria para um texto mais amigável, se necessário
        let categoriaDisplay = orcamento.servico?.categoria || '-';
        switch (categoriaDisplay) {
          case 'site':
            categoriaDisplay = 'Site ou Landing Page';
            break;
          case 'logo':
            categoriaDisplay = 'Identidade Visual';
            break;
          case 'social':
            categoriaDisplay = 'Produtos Digitais para Redes Sociais';
            break;
          case 'stationery':
            categoriaDisplay = 'Papelaria Digital';
            break;
        }
        document.getElementById('categoriaSelecionada').textContent =
          categoriaDisplay;

        // Mapeia o valor numérico do objetivo do site para o texto
        document.getElementById('opcaoSelecionada').textContent =
          objetivoSiteMap[orcamento.servico?.objetivoSite] ||
          orcamento.servico?.socialNecessidade || // Para Social Media
          orcamento.servico?.papelaria || // Para Papelaria
          orcamento.servico?.logoInsp || // Para Logo
          '-';

        // Ajusta as informações adicionais baseadas nos valores reais do localStorage ('yes'/'no')
        const infoAdicionalIdentidadeEl = document.getElementById(
          'infoAdicionalIdentidade',
        );
        const infoAdicionalCopywriteEl = document.getElementById(
          'infoAdicionalCopywrite',
        );

        infoAdicionalIdentidadeEl.textContent = ''; // Limpa antes de preencher
        infoAdicionalCopywriteEl.textContent = ''; // Limpa antes de preencher

        if (orcamento.servico?.socialIdentidade === 'no') {
          infoAdicionalIdentidadeEl.textContent =
            'Necessita de Identidade Visual.';
        }
        if (orcamento.servico?.copywrite === 'no') {
          infoAdicionalCopywriteEl.textContent =
            'Necessita de ajuda com Copywrite.';
        }

        // Detalhes do produto
        const produtos = {
          site: {
            nome: ['2', '3', '4'].includes(orcamento.servico?.objetivoSite)
              ? 'Landing Page'
              : ['5', '6'].includes(orcamento.servico?.objetivoSite)
              ? 'Site Portfólio'
              : 'Site Institucional',
            descricao: ['2', '3', '4'].includes(orcamento.servico?.objetivoSite)
              ? 'Landing Page de vendas com design responsivo, otimizada para conversão e SEO básico, ideal para divulgar ou vender um produto/serviço específico.'
              : ['5', '6'].includes(orcamento.servico?.objetivoSite)
              ? 'Um site portfólio é a solução ideal para profissionais criativos ou empresas que desejam exibir seus trabalhos de forma visual e organizada. Ele permite destacar projetos realizados, cases de sucesso e experiências anteriores, transmitindo confiança e profissionalismo aos visitantes. Com navegação intuitiva e design atrativo, esse tipo de site valoriza o conteúdo visual e fortalece sua imagem no mercado.'
              : 'Um site institucional é o investimento ideal para apresentar sua empresa de forma profissional e eficiente, funcionando como uma vitrine digital disponível 24 horas por dia. Ele centraliza informações essenciais sobre seus produtos/serviços e contato, ampliando seu alcance e credibilidade no mercado. Além de ser uma ferramenta poderosa para gerar novos negócios e fortalecer sua marca, oferece um excelente custo-benefício a longo prazo, sendo uma peça fundamental para a estratégia de marketing e vendas de qualquer negócio que busca crescimento e visibilidade online.',

            imagem:
              orcamento.servico?.objetivoSite === '2' ||
              orcamento.servico?.objetivoSite === '3' ||
              orcamento.servico?.objetivoSite === '4'
                ? './img/landingpage-mockup.png'
                : './img/site-mockup.png', // Ajuste os caminhos das imagens se necessário
          },
          logo: {
            nome: 'Identidade Visual',
            descricao:
              'Criação completa da identidade visual da sua marca, com logo, paleta de cores e tipografia.',
            imagem: './img/identidade-mockup.png',
          },
          social: {
            nome: 'Produtos Digitais para Redes Sociais',
            descricao:
              'Desenvolvimento de artes e planejamento de conteúdo para suas redes sociais, garantindo uma presença digital profissional e engajadora.',
            imagem: './img/social-mockup.png', // Adicione uma imagem para Social Media
          },
          stationery: {
            nome: 'Papelaria Digital',
            descricao:
              'Criação de itens de papelaria digital personalizada, como cartões de visita, flyers e convites, para reforçar a sua marca.',
            imagem: './img/papelaria-mockup.png', // Adicione uma imagem para Papelaria
          },
        };

        const produtoSelecionado =
          produtos[orcamento.servico?.categoria] || produtos['site']; // Default para 'site' se não encontrar

        document.getElementById('descricaoServiçoIdeal').textContent =
          produtoSelecionado.nome;
        document.getElementById('nomeProduto').textContent =
          produtoSelecionado.nome;
        document.getElementById('descricaoProdutoDetalhe').textContent =
          produtoSelecionado.descricao;
        document.getElementById('imagemProdutoDetalhe').src =
          produtoSelecionado.imagem;
        document.getElementById('imagemProduto').src =
          produtoSelecionado.imagem;

        // Gera os pacotes conforme dados
        const pacotes = gerarPacotes(orcamento);
        mostrarPacotes(pacotes);
        preencherInclusos(pacotes); // Preenche a seção "O que está incluso"
      }

      window.addEventListener('DOMContentLoaded', () => {
        popularDados();
        lucide.createIcons();
      });


      document.getElementById('btnBaixarPdf').addEventListener('click', () => {
    // Pega o elemento que você quer converter pra PDF. 
    // Aqui pegamos o <body> inteiro, mas pode ser um container específico.
    const elemento = document.body;

    // Opções para o PDF (tamanho, margens, nome do arquivo, etc)
    const opt = {
      margin:       0.5,
      filename:     'orcamento.pdf',
      image:        { type: 'jpeg', quality: 0.98 },
      html2canvas:  { scale: 2 },
      jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
    };

    // Gera e baixa o PDF
    html2pdf().set(opt).from(elemento).save();
  });
    </script>
  </body>
</html>
