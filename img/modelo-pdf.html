<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Proposta Comercial - Weinsite</title>
    <link href="./output.css" rel="stylesheet" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
      @media print {
        body {
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
        }
        .no-print {
          display: none !important;
        }
      }
    </style>
  </head>
  <body
    class="overflow-x-hidden bg-[url('/img/bgbody.jpg')] bg-cover bg-center bg-gradient-to-br from-purple-800 via-indigo-800 to-blue-800 text-white font-sans"
  >
    <section
      class="mt-15 mx-auto min-h-screen flex flex-col align-middle lg:flex-row justify-center items-center text-center px-10 lg:-mb-25"
    >
      <div class="w-full max-w-xl lg:max-w-xl lg:mx-auto -mt-56">
        <img
          src="/img/logo-nav.png"
          alt="Logo Weinsite"
          class="w-full max-w-xs mx-auto items-center"
        />
        <img src="/img/brainor.png" alt="Logo Weinsite" class="lg:-[50rem]" />
      </div>

      <div
        class="mt-5 2xl:mt-5 mb-20 lg:mb-64 w-full max-w-xl container mx-auto text-start bg-white/5 backdrop-blur-sm rounded-2xl p-6 sm:p-8 md:p-10 shadow-2xl border border-white/10"
      >
        <div
          class="bg-white/10 border border-white/20 rounded-xl p-6 sm:p-8 mb-6 shadow-lg"
        >
          <h3
            class="text-lg sm:text-xl font-bold mb-3 text-white flex items-center justify-center lg:justify-start"
          >
            <i
              data-lucide="check-square"
              class="w-5 h-5 sm:w-6 sm:h-6 text-pink-400 mr-4"
            ></i>
            Detalhes da sua Solicita√ß√£o:
          </h3>
          <div class="space-y-2 text-sm sm:text-base">
            <p class="border-b border-white/10 pb-2">
              <strong class="font-semibold text-white">Seu nome:</strong>
              <span id="nomeCliente" class="font-light text-gray-200 ml-2"
                >-</span
              >
            </p>
            <p class="border-b border-white/10 pb-2">
              <strong class="font-semibold text-white">Empresa: </strong>
              <span class="font-extrabold">Weinsite</span>
            </p>
            <p class="border-b border-white/10 pb-2">
              <strong class="font-semibold text-white"
                >Categoria Selecionada:</strong
              >
              <span
                id="categoriaSelecionada"
                class="font-light text-gray-200 ml-2"
                >-</span
              >
            </p>
            <p class="border-b border-white/10 pb-2">
              <strong class="font-semibold text-white">Op√ß√£o Escolhida:</strong>
              <span id="opcaoSelecionada" class="font-light text-gray-200 ml-2"
                >-</span
              >
            </p>
            <p>
              <strong class="font-semibold text-white"
                >Informa√ß√µes Adicionais:</strong
              >
              <span
                id="infoAdicionalIdentidade"
                class="font-light text-gray-200 ml-2"
              ></span
              ><br />
              <span
                id="infoAdicionalCopywrite"
                class="font-light text-gray-200 ml-2"
              ></span>
            </p>
          </div>
        </div>

        <div
          class="mb-6 p-4 sm:p-6 bg-white/10 border border-white/20 rounded-xl shadow-lg"
        >
          <div
            class="flex items-center justify-center lg:justify-start text-center mb-4"
          >
            <div
              class="w-8 h-8 sm:w-10 sm:h-10 bg-pink-400/20 rounded-full flex items-center justify-center mr-3 shadow-md"
            >
              <i data-lucide="zap" class="w-4 h-4 sm:w-5 sm:h-5 text-white"></i>
            </div>
            <h3
              class="text-lg sm:text-xl font-bold items-center text-white m-0"
            >
              Sua Solu√ß√£o Digital Ideal:
            </h3>
          </div>

          <h3
            class="text-xl sm:text-2xl font-extrabold text-white mb-6 mt-6 flex items-center justify-center lg:justify-center"
          >
            <span id="nomeProduto">Site Institucional</span>
          </h3>

          <p
            id="descricaoProdutoDetalhe"
            class="text-gray-100 mb-4 bg-white/10 rounded-xl p-4 text-xs sm:text-sm md:text-base leading-relaxed shadow-inner text-center"
          >
            Um site institucional √© o investimento ideal para apresentar sua
            empresa de forma profissional e eficiente...
          </p>

          <div
            class="flex justify-center lg:justify-center mt-2 text-center items-center"
          >
            <a
              class="linkWhatsappProdutoIdeal mt-6 inline-block bg-green-500 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-green-600 transition duration-300 text-center items-center"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
            >
              Chame agora e ganhe brindes na sua contrata√ß√£o
            </a>
          </div>
        </div>
      </div>
    </section>

    <section
      class="mt-20 mb-20 lg:mt-1 mx-auto flex flex-col justify-center items-center text-center gap-2"
    >
      <h1
        class="text-3xl lg:text-5xl font-extrabold bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 bg-clip-text text-transparent"
      >
        Seu produto ideal foi encontrado!
      </h1>
      <strong class="text-2xl w-3/4 lg:w-2/3 text-white">
        Agora √© s√≥ clicar para receber seu or√ßamento completo...
      </strong>

      <div class="flex justify-center">
        <a
          class="linkWhatsappProdutoIdeal mt-2 inline-block bg-green-500 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-green-600 transition duration-300"
          href="#"
          target="_blank"
          rel="noopener noreferrer"
        >
          Chame agora e ganhe brindes na sua contrata√ß√£o
        </a>
      </div>
    </section>

    <script>
      lucide.createIcons();

      function popularDados() {
        const orcamentoJSON = localStorage.getItem('orcamento');
        if (!orcamentoJSON) return;

        const orcamento = JSON.parse(orcamentoJSON);

        document.getElementById('nomeCliente').textContent =
          orcamento.contato?.nome || '-';

        const categoria = orcamento.servico?.categoria;

        document.getElementById('categoriaSelecionada').textContent =
          traduzirCategoria(categoria) || '-';

        document.getElementById('opcaoSelecionada').textContent =
          traduzirObjetivo(
            orcamento.servico?.objetivoSite ||
              orcamento.servico?.socialNecessidade ||
              orcamento.servico?.papelaria ||
              orcamento.servico?.logoInsp,
            categoria,
          ) || '-';

        // Informa√ß√µes adicionais
        const identidade = orcamento.servico?.socialIdentidade;
        const copywrite = orcamento.servico?.copywrite;
        const inicioDigital = orcamento.servico?.inicioDigital;

        document.getElementById(
          'infoAdicionalIdentidade',
        ).textContent = `Identidade Visual: ${
          identidade === 'yes'
            ? 'J√° possui'
            : identidade === 'no'
            ? 'N√£o possui'
            : 'N√£o informado'
        }`;

        document.getElementById(
          'infoAdicionalCopywrite',
        ).textContent = `Copywrite: ${
          copywrite === 'yes'
            ? 'J√° possui'
            : copywrite === 'no'
            ? 'N√£o possui'
            : 'N√£o informado'
        }`;

        const infoInicio = `Presen√ßa Digital: ${
          inicioDigital === 'sim'
            ? 'Est√° come√ßando agora no digital'
            : inicioDigital === 'nao'
            ? 'J√° tem presen√ßa digital'
            : 'N√£o informado'
        }`;

        const p = document.createElement('span');
        p.textContent = infoInicio;
        p.className = 'font-light text-gray-200 ml-2';
        document
          .getElementById('infoAdicionalCopywrite')
          .insertAdjacentElement('afterend', p);

        const objetivo =
          orcamento.servico?.objetivoSite ||
          orcamento.servico?.socialNecessidade ||
          orcamento.servico?.papelaria ||
          orcamento.servico?.logoInsp;

        // Objeto com os produtos e descri√ß√µes baseados na l√≥gica da Ketlen
        const produtosDescricao = {
          site_1_no: {
            nome: 'Pacote Weinstart',
            descricao:
              'Se voc√™ est√° dando os primeiros passos no mundo digital e ainda n√£o possui uma identidade visual, o Pacote Weinstart √© a solu√ß√£o perfeita...',
          },
          site_1_yes: {
            nome: 'Site Institucional',
            descricao:
              'Um site institucional funciona como a sede digital da sua empresa...',
          },
          site_2_no: {
            nome: 'Pacote Weinsite Product',
            descricao:
              'O Weinsite Product √© o pacote ideal para quem quer vender um produto ou servi√ßo digital e ainda n√£o possui uma identidade visual...',
          },
          site_2_yes: {
            nome: 'Landing Page de Vendas',
            descricao:
              'Uma landing page de vendas √© o seu canal direto para o fechamento de neg√≥cios...',
          },
          site_3_no: {
            nome: 'Pacote Weinsite Product',
            descricao:
              'Com este pacote, voc√™ ter√° uma Landing Page estrat√©gica (at√© 4 p√°ginas)...',
          },
          site_3_yes: {
            nome: 'Landing Page',
            descricao:
              'Uma landing page √© perfeita para quem quer divulgar ou lan√ßar um produto ou servi√ßo...',
          },
          site_4_no: {
            nome: 'Pacote Weinsite Product',
            descricao:
              'Com este pacote, voc√™ ter√° uma Landing Page estrat√©gica (at√© 4 p√°ginas)...',
          },
          site_4_yes: {
            nome: 'Landing Page',
            descricao:
              'Uma landing page √© perfeita para quem quer divulgar ou lan√ßar um produto ou servi√ßo...',
          },
          site_5: {
            nome: 'Site Portf√≥lio',
            descricao:
              'Um site portf√≥lio √© essencial para qualquer profissional ou empresa que deseja exibir seus trabalhos...',
          },
          site_6: {
            nome: 'Site Blog',
            descricao:
              'Ter um site blog √© uma estrat√©gia poderosa para qualquer neg√≥cio ou profissional que deseja construir autoridade...',
          },
          identidade_visual: {
            nome: 'Identidade Visual Basic',
            descricao:
              'Ter uma identidade visual forte no digital vai muito al√©m de um logo; √© a chave para destacar sua marca...',
          },
          social_1: {
            nome: 'Artes Digitais Personalizadas',
            descricao:
              'N√≥s criamos artes digitais personalizadas para transformar a presen√ßa da sua marca nas redes sociais...',
          },
          social_2: {
            nome: 'Artes Digitais Personalizadas',
            descricao:
              'N√≥s criamos artes digitais personalizadas para transformar a presen√ßa da sua marca nas redes sociais...',
          },
          social_4: {
            nome: 'Pacote Weinplan',
            descricao:
              'Com o Pacote Weinplan, n√≥s cuidamos de toda a sua estrat√©gia de conte√∫do mensal...',
          },
          stationery_cards: {
            nome: 'Arte Personalizada Exclusiva',
            descricao:
              'N√≥s criamos materiais que s√£o verdadeiras extens√µes da sua marca...',
          },
          stationery_flyers: {
            nome: 'Arte Personalizada Exclusiva',
            descricao:
              'N√≥s criamos materiais que s√£o verdadeiras extens√µes da sua marca...',
          },
          stationery_invitations: {
            nome: 'Convite Personalizado para o seu Evento',
            descricao:
              'Nossos convites digitais s√£o desenvolvidos com recursos interativos que encantam...',
          },
        };

        let chave = '';
        if (categoria === 'logo') {
          chave = 'identidade_visual';
        } else if (categoria === 'site') {
          if (['1', '2', '3', '4'].includes(objetivo)) {
            chave = `site_${objetivo}_${identidade}`;
          } else if (['5', '6'].includes(objetivo)) {
            chave = `site_${objetivo}`;
          }
        } else if (categoria === 'social') {
          chave = `social_${objetivo}`;
        } else if (categoria === 'stationery') {
          chave = `stationery_${objetivo}`;
        }

        const produtoSelecionado = produtosDescricao[chave] || {
          nome: 'Produto n√£o encontrado',
          descricao:
            'N√£o encontramos uma solu√ß√£o ideal com base nas respostas fornecidas.',
        };

        document.getElementById('nomeProduto').textContent =
          produtoSelecionado.nome;
        document.getElementById('descricaoProdutoDetalhe').textContent =
          produtoSelecionado.descricao;

        const textoWhatsApp = `
Ol√° eu me chamo ${
          orcamento.contato?.nome || 'Cliente'
        }, preenchi o formul√°rio pelo site e aqui est√° o meu produto ideal:

üìù Produto: ${produtoSelecionado.nome}
üìä Descri√ß√£o: ${produtoSelecionado.descricao}
üìå Categoria: ${traduzirCategoria(categoria)}


Gostaria de receber o or√ßamento completo, obrigada! 
`;
        const textoCodificado = encodeURIComponent(textoWhatsApp);
        const linkWhatsApp = `https://wa.me/5551984520582?text=${textoCodificado}`;
        document.querySelectorAll('.linkWhatsappProdutoIdeal').forEach((el) => {
          el.href = linkWhatsApp;
        });
      }

      function traduzirCategoria(valor) {
        const map = {
          site: 'Site ou Landing Page',
          logo: 'Identidade Visual',
          social: 'Produtos Digitais para Redes Sociais',
          stationery: 'Papelaria Digital',
        };
        return map[valor] || valor;
      }

      function traduzirObjetivo(valor, categoria) {
        const objetivosSite = {
          1: 'Quero apresentar minha empresa ou marca',
          2: 'Vender um Produto ou Servi√ßo',
          3: 'Divulgar um Produto Espec√≠fico',
          4: 'Lan√ßar um Produto ou Servi√ßo',
          5: 'Expor meu trabalho ou projetos',
          6: 'Criar um Blog de Conte√∫dos',
        };

        const opcoesSocial = {
          1: 'Preciso de Posts personalizados para o meu feed',
          2: 'Criar capas para meus stories e reels',
          3: 'Organizar minha bio do Instagram',
          4: 'Planejamento mensal de conte√∫do com posts e legendas',
          5: 'Todas as op√ß√µes acima',
        };

        const papelaria = {
          cards: 'Cart√µes de Visita',
          flyers: 'Flyers e Panfletos',
          invitations: 'Convites Digitais',
          others: 'Outros produtos',
        };

        const identidade = {
          basic: 'J√° possuo ideias e inspira√ß√µes',
        };

        switch (categoria) {
          case 'site':
            return objetivosSite[valor] || 'Objetivo n√£o informado';
          case 'social':
            return (
              opcoesSocial[valor] || 'Op√ß√£o de redes sociais n√£o informada'
            );
          case 'stationery':
            return papelaria[valor] || 'Op√ß√£o de papelaria n√£o informada';
          case 'logo':
            return identidade[valor] || 'Informa√ß√£o n√£o definida';
          default:
            return valor || '-';
        }
      }

      window.addEventListener('DOMContentLoaded', () => {
        popularDados();
      });
    </script>
  </body>
</html>
